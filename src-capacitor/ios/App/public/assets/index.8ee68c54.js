import{Q as I}from"./QImg.0df2fd1c.js";import{m as f,c as g,f as o,j as i,k as r,a6 as p,t as A,x as e,d as s,q as d,Q as k,a7 as h,a8 as E,a9 as D,s as H,n as B,aa as S,H as w,N as O,F as $,ab as C,ac as P,r as b,ad as x,p as Q}from"./index.3f04a291.js";import{u as V}from"./user-default.0e0d8a46.js";import{_ as z}from"./ProviderCard.2467c91f.js";import{_ as U}from"./style.b43d0c68.js";import"./QForm.e0ad6fb4.js";/* empty css               *//* empty css                */import{E as F}from"./apollo.types.11227913.js";import{D as R}from"./didperu-dark.b27a34e1.js";import{D as T}from"./didperu.774c3852.js";import"./Events.0c3c3b8f.js";import{g as j}from"./auth.59fda56b.js";import{g as q}from"./ProvidersActions.8433c3a2.js";import{g as G}from"./EventsActions.dc6c14b0.js";var J="assets/home-calendar.0ea057d7.svg";const K={class:"Header"},W={class:"Header__information"},X={class:"Header__greetings"},Y=h(" Hola"),Z=r("br",null,null,-1),ee={class:"Header__names"},te={class:"Header__text"},ae={class:"Header__expiration-date"},se={class:"Header__actions"},oe=h(" Calendario "),re=f({__name:"HomeHeader",props:{firstName:null,lastName:null,memberCode:null,isMembershipActive:{type:Boolean},expirationDate:null,avatar:null},setup(t){const a=t,n=g(()=>a.isMembershipActive?"Membres\xEDa activa":"Membres\xEDa inactiva"),c=g(()=>a.expirationDate.toLocaleString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}));return(m,u)=>(o(),i("header",K,[r("div",W,[r("p",X,[Y,Z,r("span",ee,p(t.firstName)+" "+p(t.lastName),1)]),r("div",te,[r("p",null,"C\xF3digo: "+p(t.memberCode),1),r("p",{class:A(`Header__membership ${t.isMembershipActive?"Header__membership--active":"Header__membership--inactive"}`)},p(e(n)),3),r("p",ae," V\xE1lido hasta: "+p(e(c)),1)])]),r("div",se,[s(k,{flat:"",round:"",onClick:u[0]||(u[0]=_=>m.$router.push({name:"userProfile"}))},{default:d(()=>[s(E,{class:"Header__avatar",color:"black","text-color":"white"},{default:d(()=>[s(I,{src:t.avatar||e(V)},null,8,["src"]),s(D,{color:"black",size:"1.19rem",class:"Header__editIcon",name:"edit"})]),_:1})]),_:1}),s(k,{disabled:!t.isMembershipActive,class:"Header__calendar",color:"accent",dense:"","no-caps":"",onClick:u[1]||(u[1]=_=>m.$router.push({name:"eventsCalendar"}))},{default:d(()=>[s(D,{name:`svguse:${e(J)}#calendar|0 0 16.485 18.206`},null,8,["name"]),oe]),_:1},8,["disabled"])])]))}});const ie={class:"HorizontalScroll"},ne={__name:"HorizontalScroll",setup(t){return(a,n)=>(o(),i("div",ie,[H(a.$slots,"default")]))}};const le={class:"HomeTitle"},me={__name:"HomeTitle",setup(t){return(a,n)=>(o(),i("h2",le,[H(a.$slots,"default")]))}};const ce={class:"home-list__title-container"},ue={key:0,class:"home-list__see-all"},de=h("Ver m\xE1s"),_e=r("div",{class:"home-list__coming-soon"},"Muy pronto!",-1),N=f({__name:"HomeList",props:{title:null,seeMoreRouteName:null},setup(t){return(a,n)=>{const c=B("router-link");return o(),i("div",null,[r("div",ce,[s(e(me),null,{default:d(()=>[h(p(t.title),1)]),_:1}),t.seeMoreRouteName?(o(),i("span",ue,[s(c,{to:{name:t.seeMoreRouteName}},{default:d(()=>[de]),_:1},8,["to"])])):S("",!0)]),s(e(ne),null,{default:d(()=>[H(a.$slots,"default",{},()=>[_e])]),_:3})])}}});const pe={class:"HomeLayout__content"},ve={key:1},fe={key:1},he=f({__name:"Home.layout",props:{user:null,events:null,providers:null},setup(t){const a=t,{parseUserData:n}=P();if(!a.user){const v=w();O.create({message:"Hemos tenido problemas para localizar tu usuario",type:"Negative"}),v.push({name:"login"})}const{expirationDate:c,isMembershipActive:m,firstName:u,lastName:_,memberCode:y,avatar:L}=n(a.user);return(v,$e)=>(o(),i($,null,[s(e(re),{expirationDate:e(c),firstName:e(u),lastName:e(_),memberCode:e(y),isMembershipActive:e(m),avatar:e(L)},null,8,["expirationDate","firstName","lastName","memberCode","isMembershipActive","avatar"]),r("div",pe,[s(e(N),{"see-more-route-name":"events",class:"HomeLayout__list",title:"Eventos"},{default:d(()=>[e(m)?(o(!0),i($,{key:0},C(t.events,l=>(o(),i("div",{class:"HomeLayout__listItem",key:l.id},[s(e(U),{title:l.title,image_url:l.image_url,fallback:e(R),date:new Date(l.date),isAnnouncement:l.type===e(F).PUBLIC,class:"HomeLayout__listItem--event",onOnClick:M=>v.$router.push({name:"eventDetail",params:{event:l.id}})},null,8,["title","image_url","fallback","date","isAnnouncement","onOnClick"])]))),128)):(o(),i("div",ve," Por favor actualice su membresia para ver los proximos eventos disponibles en DID "))]),_:1}),s(e(N),{"see-more-route-name":"providers",class:"HomeLayout__list HomeLayout__list--providers",title:"Proveedores"},{default:d(()=>[e(m)?(o(!0),i($,{key:0},C(t.providers,l=>(o(),i("div",{class:"HomeLayout__listItem",key:l.id},[s(e(z),{onOnClick:M=>v.$router.push({name:"providerDetail",params:{provider:l.id}}),fallback:e(T),image_url:l.logo_url,id:l.id},null,8,["onOnClick","fallback","image_url","id"])]))),128)):(o(),i("div",fe," Por favor actualice su membresia para disfrutar de descuentos exclusivos "))]),_:1})])],64))}}),Se=f({__name:"index",async setup(t){let a,n;const c=b(),m=b(),u=b(j());return c.value=([a,n]=x(()=>G()),a=await a,n(),a),[a,n]=x(()=>q({limit:6}).then(_=>{m.value=_})),await a,n(),(_,y)=>(o(),Q(he,{user:u.value,events:c.value,providers:m.value},null,8,["user","events","providers"]))}});export{Se as default};
